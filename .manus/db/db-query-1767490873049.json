{
  "query": "SELECT e.name, e.code, \n       SUM(er.total) as weeklyRevenue,\n       COUNT(DISTINCT dr.date) as daysWorked\nFROM employeeRevenues er\nJOIN dailyRevenues dr ON er.dailyRevenueId = dr.id\nJOIN employees e ON er.employeeId = e.id\nWHERE dr.branchId = 1 \n  AND dr.date >= '2026-01-01' \n  AND dr.date <= '2026-01-07'\nGROUP BY e.id, e.name, e.code\nORDER BY weeklyRevenue DESC;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4FCVrv7uyUZp6pM.795ec0267000 --database dsLtTk22LX4iB7jABiF6k8 --execute SELECT e.name, e.code, \n       SUM(er.total) as weeklyRevenue,\n       COUNT(DISTINCT dr.date) as daysWorked\nFROM employeeRevenues er\nJOIN dailyRevenues dr ON er.dailyRevenueId = dr.id\nJOIN employees e ON er.employeeId = e.id\nWHERE dr.branchId = 1 \n  AND dr.date >= '2026-01-01' \n  AND dr.date <= '2026-01-07'\nGROUP BY e.id, e.name, e.code\nORDER BY weeklyRevenue DESC;",
  "rows": [
    {
      "name": "علاء ناصر",
      "code": "EMP-002",
      "weeklyRevenue": "1230.00",
      "daysWorked": "3"
    },
    {
      "name": "عبدالحي جلال",
      "code": "EMP-004",
      "weeklyRevenue": "1023.00",
      "daysWorked": "3"
    },
    {
      "name": "السيد محمد",
      "code": "EMP-007",
      "weeklyRevenue": "1000.00",
      "daysWorked": "3"
    },
    {
      "name": "محمود عماره ",
      "code": "EMP-012",
      "weeklyRevenue": "960.00",
      "daysWorked": "3"
    }
  ],
  "messages": [],
  "stdout": "name\tcode\tweeklyRevenue\tdaysWorked\nعلاء ناصر\tEMP-002\t1230.00\t3\nعبدالحي جلال\tEMP-004\t1023.00\t3\nالسيد محمد\tEMP-007\t1000.00\t3\nمحمود عماره \tEMP-012\t960.00\t3\n",
  "stderr": "",
  "execution_time_ms": 1512
}