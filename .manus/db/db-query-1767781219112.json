{
  "query": "\n-- تحديث البونص للموظفين بناءً على المستويات الجديدة\nUPDATE bonusDetails bd\nSET \n  bonusTier = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 3200 THEN 'tier_7'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2800 THEN 'tier_6'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2500 THEN 'tier_5'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2200 THEN 'tier_4'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1950 THEN 'tier_3'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1750 THEN 'tier_2'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 'tier_1'\n    ELSE 'none'\n  END,\n  bonusAmount = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 3200 THEN 190\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2800 THEN 155\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2500 THEN 120\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2200 THEN 90\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1950 THEN 65\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1750 THEN 55\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 35\n    ELSE 0\n  END,\n  isEligible = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 1\n    ELSE 0\n  END,\n  updatedAt = NOW();\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4FCVrv7uyUZp6pM.795ec0267000 --database dsLtTk22LX4iB7jABiF6k8 --execute \n-- تحديث البونص للموظفين بناءً على المستويات الجديدة\nUPDATE bonusDetails bd\nSET \n  bonusTier = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 3200 THEN 'tier_7'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2800 THEN 'tier_6'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2500 THEN 'tier_5'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2200 THEN 'tier_4'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1950 THEN 'tier_3'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1750 THEN 'tier_2'\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 'tier_1'\n    ELSE 'none'\n  END,\n  bonusAmount = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 3200 THEN 190\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2800 THEN 155\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2500 THEN 120\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 2200 THEN 90\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1950 THEN 65\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1750 THEN 55\n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 35\n    ELSE 0\n  END,\n  isEligible = CASE \n    WHEN CAST(bd.weeklyRevenue AS DECIMAL(15,2)) >= 1450 THEN 1\n    ELSE 0\n  END,\n  updatedAt = NOW();\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1701
}